---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import '../styles/global.css';
import Footer from '../.omponents/Footer.astro';
import News from '../components/News.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
import Sidebar from '../components/GuideSidebar.astro'
import { getCollection } from 'astro:content';
const posts = (await getCollection('guide'));
type Props = CollectionEntry<'guide'>['data'];
const { title, description, icon, pubDate, updatedDate, heroImage } = Astro.props;
---

<html lang="en">
	<BaseHead title="WiiLink - Guide"/>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<body>
	<main>
		<Sidebar />
		<div class="flex">
			<div class="holder">
				<div class="offcanvas-body">
						<h4 style="top:20px; left:0px; font-family: Gilroy; z-index: 100; position:relative;">Where do you want to go?</h4>
				   <div>
					<div class="sidebarcontent">
							   <div class="post">
								   <a href={`/guide/1install/`}>
									  <img class="mainimg" src="../../img/guidebg-1.png">
								   <div class="title-main" style="text-align: center; font-size:20px; font-family:Gilroy;"><i class="fa-solid fa-download" style="margin-right:5px;"></i>Installation guide</div>
								   </a>
							   </div>
							   <div class="post">
								<a href={`/guide/2problemsolving/`}>
								   <img class="mainimg" src="../../img/guidebg-2.png">
								<div class="title-main" style="text-align: center; font-size:20px; font-family:Gilroy;"><i class="fa-solid fa-circle-exclamation" style="margin-right:5px;"></i>Problem solving</div>
								</a>
							</div>
							<div class="post">
							 <a href={`/guide/3faq/`}>
								<img class="mainimg" src="../../img/guidebg-3.png">
							 <div class="title-main" style="text-align: center; font-size:20px; font-family:Gilroy;"><i class="fa-solid fa-circle-question" style="margin-right:5px;"></i>Frequently asked questions</div>
							 </a>
						 </div>
				   </div>
		   
				   <div class="sidebarcontent">
					   <h4 style="font-family: Gilroy; font-size:25px; margin-bottom:20px;">What are you <b class="color">looking for</b>?</h4>
					   {
						   posts.map((post) => (
							   <div class="post2">
								   <a href={`/guide/${post.slug}/`}>
								   <div class="title2"><i class={post.data.icon} style="margin-right:8px;"></i> {post.data.title}</div>
								   </a>
							   </div>
						   ))
					   }
				   </div>
		   
				   <a href="https://wii.hacks.guide"><div class="wiiguide">Visit wii.hacks.guide</div></a></br></br></br>
				   </div>
				 </div>
			</div>
			<div class="guideholder">
				<img class="topImage" src={heroImage}>
				<div class="title"><i class={icon} style="margin-right:18px;"></i> {title}</div>
				<div class="guidecontent"><slot /></div>
			</div>
		</div>
	</main>
	<Header isGuide="display:block;"/>
</body>
</html>

<style>

a{
	color: green;
	text-decoration:none;
}

a:link{
    color:rgba(32,213,136,1);  
}

html{
	top:-150px;
	left:0;
	width:100%;
	height:100%;
	position:absolute;
}

body{
	top:0;
	left:0;
	width:100%;
	height:100%;
	position:absolute;
}

img{
	width:500px;
}

a:hover{
    color:rgb(22, 152, 96);
}

a:visited{
    color:rgb(32, 180, 213);
}

	.title {
		font-size: 45px;
		font-family: Gilroy;
		z-index: 100;
		top:30px;
		width:100%;
		text-align: center;
		position:absolute;
	}

	.image{
		width:100%;
		height: 100%;
		z-index: 0;
		position: absolute;
	}

	.topImage{
		top:0;
		left:0;
		width:100%;
		opacity:0.3;
		-webkit-mask-image: linear-gradient(180deg, rgba(0, 0, 0, 1) 0%, transparent 58%);
		position:absolute;
	}

	.head{
		width:100%;
		height:100%;
		top:0;
		left:0;
		position: fixed;
	}

	.fade2{
		width:100%;
		height:100%;
		top:0;
		left:0;
		background: linear-gradient(0deg, rgba(24,24,24,1) 70%, rgba(0,212,255,0) 100%);
		z-index: 1;
		position: absolute;
	}

	.guidecontent{
		width:95%;
		left:50%;
		scroll-behavior: smooth;
		transform: translate(-50%, 0);
		position:relative;
		font-family: Cafe;
		margin-top:120px;
		text-align: justify;
		animation-name: fadeup;
		animation-duration: 0.5s;
		animation-fill-mode: forwards;
	}

	.flex{
		top:270px;
		left:0;
		width:100%;
		height:calc(100% - 130px);
		display:flex;
		align-items: flex-end;
		gap:18px;
		justify-content:center;
		flex-wrap: wrap;
		position: absolute;
	}

	.holder{
		width:380px;
		height:100%;
		overflow:scroll;
	}

	.guideholder{
		width:1000px;
		height:100%;
		top:110px;
		border:2px solid rgba(255, 000, 000, 0.1);
		background-color: rgba(000, 000, 255, 0.04);
		backdrop-filter: blur(8px);
		border-radius: 14px;
		z-index: 1;
		overflow: scroll;
	}

	@keyframes fadeup{
		0%{
			opacity:0;
			transform: translate(-50%, 28px);
		}
		100%{
			opacity:1;
			transform: translate(-50%, 0px);
		}
	}

	a{
		bottom:50px;
		z-index:11;
		color:green;
	}


.mainimg{
   transform: translate(-15px, -15px);
   width:100%;
   transform-origin: center;
   transition: 0.5s;
   background-size: cover;
   position: absolute;
}

.post:hover .mainimg{
		filter: blur(8px) brightness(0.7);
		rotate: 4deg;
		scale: 120%;
		transition: 0.3s;
  	}

.offcanvas{
   margin:8px;
   border-radius: 18px;
   box-shadow: 0px 0px 20px #00000040;
   overflow: hidden;
   height: calc(100% - 18px);
}

.title-main{
   font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
   color: white;
   transition: 0.3s;
   z-index: 100;
   position: relative;
}

.title2{
   font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
   color: #121212a2;
   transition: 0.3s;
   z-index: 100;
   position: relative;
}

.title2:hover{
   color: #121212;
   transition: 0.3s;
}

.btn{
   left:0;
   z-index: 1000;
   position: absolute;
}

 .sidebarholder{
    width:17%;
    height:87%;
    bottom:0;
    left:8%;
    border-radius: 8px;
    position: absolute;
    overflow: scroll;
 }

 .fade-sidebar{
   top:0;
   left:0;
   width:100%;
   height:80px;
   background: rgb(255, 255, 255);
   background: linear-gradient(180deg, rgb(255, 255, 255) 0%, rgba(0,0,0,0) 100%);  
   z-index: 100;
   position: absolute;
 }

 .sidebarcontent{
   top:38px;
    font-family: Cafe;
    font-size: 15px;
    margin-bottom: 40px;
    z-index: 0;
    position: relative;
 }

 .post{
   width: 100%;
   height: 60px;
   padding:15px;
   overflow: hidden;
   border-radius: 8px;
   margin-bottom: 10px;
   position: relative;
 }

 .post2{
    margin-bottom: 30px;
 }

 .post2:nth-child(1){
    display:none;
 }

 .post2:nth-child(2){
    display:none;
 }

 .post2:nth-child(3){
    display:none;
 }

 .post2:nth-child(4){
    display:none;
 }


 .post2{
    display: block;
 }
 .wiiguide{
    top:60px;
    width:100%;
    background-color:rgb(79, 79, 211);
    border-radius: 8px;
    font-family: Gilroy;
    font-size: 25px;
    text-align: center;
    color:white;
    padding-top:20px;
    padding-bottom: 20px;
    position: relative;
    transition: 0.2s;
 }

 .color {
        background: url("/img/header_bg.png");
   -webkit-background-clip: text;
   -webkit-text-fill-color: transparent;
   filter:brightness(150%);
 }

 .hover{
    display: none;
 }

 .wiiguide:hover{
    background-color: rgb(58, 58, 197);
    text-decoration: underline;
    transition: 0.2s;
 }

 @media (max-width:1400px){
		.holder{
			display:none;
		}
	}

	@media (max-width:1000px){
		.guideholder{
			width:95%;
		}
		.holder{
			display:none;
		}
	}
</style>

