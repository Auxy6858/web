---
import { changeLanguage } from "i18next";
import { type CollectionEntry, getCollection } from "astro:content";
import BlogPost from "../../../layouts/BlogPost.astro";

changeLanguage("fr");

export async function getStaticPaths() {
    const posts = await getCollection("blog");
    return posts.map((post) => ({
        params: { slug: post.slug },
        props: post,
    }));
}
type Props = CollectionEntry<"blog">;
const post = Astro.props;
const { Content } = await post.render();
---

<meta charset="UTF-8">
	<div class="symbolholder">
		<div class="backsymbol">
			<div class="square2" id="square2">
				<div class="contentholder">
					<BlogPost {...post.data}></BlogPost>
	<Content />
</div>
	</div>
	<div class="square"></div>
	<div class="bottomleftcornerholder">
		<img class="bottomleftcorner" src="../../img/corner.png">
	</div>
	</div>
	</div>
</BlogPost>

<style>

	html{
		font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
	}
		.symbolholder{
		background-color: var(--bg-color);
		top:0;
		left:0;
		width:100%;
		height:100%;
		transition: 0.5s;
		z-index: 1;
		overflow: hidden;
		position: fixed;
	}
	.backsymbol {
		width:calc(100% - 28px);
		height:calc(100% - 28px);
		top:50%;
		left:50%;
		transform: translate(-50%, -50%);
		z-index: 1;
		position: absolute;
	}
	.contentholder{
		left:50%;
		transform: translate(-50%,0);
		max-width:1000px;
		position: relative;
	}
	.bottomleftcorner{
		animation: changecolor 10s linear infinite;
		position: relative;
	}
	.bottomleftcornerholder{
		left:-2.6px;
		bottom:-3px;
		scale:31.6%;
		transform: translate(-106.5%, 107.3%);
		z-index: 2;
		position: absolute;
	}
	.square {
		--img-invert: 0;
		width:100%;
		height:100%;
		background: linear-gradient(41deg, rgba(0,138,255,1) 0%, rgba(255,0,59,1) 100%);
		z-index: 0;
		animation: changecolor 10s linear infinite;
		border-radius: 8px;
		position: absolute;
	}
	#square2{
		width: calc(100% - 30px);
		height: calc(100% - 30px);
		left:15px;
		top:15px;
		background-color: #ffffff;
		transform: translate(0%, 0%);
		border-radius: 4px;
		z-index: 1;

		transition:0.5s;
		overflow-y: scroll;
		overflow-x: hidden;
		position: absolute;
	}
</style>
