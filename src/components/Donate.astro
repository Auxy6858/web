<div class="build">
    <div class="build-holder">
        <h1 class="title">Made possible by users like <b class="color">you</b></h1>
        <h2 class="subtitle"><b style="font-family:Rubik;">WiiLink</b> is funded publicly by our <i class="color">users</i> and <i class="color">sponsors</i>. <b class="color">To help our running costs, please consider donating!</b></h2>
        <div class="tiers">
        <div id="inner-data" class="build-square move tier-1">
            <span class="bdg badge bg-warning">$1</span>
            <h1 style="color:#8cb727;" class="tier-title">Coffee</h1>
            <img class="donate-image" src="img/tier_1.png" style="transform:translateZ(40px); scale:80%;" width="200px">
        </div>
        <div id="inner-data" class="build-square move tier-2">
            <span class="bdg badge bg-info">$5</span>
            <h1 style="color:#278eb7;" class="tier-title">Sandwich</h1>
            <img class="donate-image" src="/img/tier_2.png" style="transform:translateZ(40px); scale:80%;" width="200px">
        </div>
        <div id="inner-data" class="build-square move tier-3">
            <span class="bdg badge bg-primary">$10</span>
            <span class="badge bg-danger" style=" bottom:80px; left:50%; transform:translate(-50%, 0); width:160px; font-size: 20px; position:absolute;">Most popular</span>
            <h1 style="color:#7627b7;" class="tier-title">Hamburger</h1>
            <img class="donate-image" src="img/tier_3.png" style="transform:translateZ(40px); scale:80%;" width="200px">
        </div>
        <div id="inner-data" class="build-square move tier-4">
            <span class="bdg badge bg-success">$20</span>
            <h1 style="color:#49b727;" class="tier-title">Steak</h1>
            <img class="donate-image" src="img/tier_4.png" style="transform:translateZ(40px); scale:80%;" width="200px">
        </div>
    </div>
    <div class="donator-holder">    
    <h2 style="top:50%; left:50px; width:250px; transform:translate(0, -50%); text-align:left; font-size: 30px; z-index: 1; position:relative;" class="subtitle">...and join all these <b class="color">cool people</b></h2>
    <div class="slider">
        <div id="donators" class="slide-track">
         
        </div>
    </div>
</div>

    <h3 style="top:-15px; right:20px; width:100%; opacity:0.5; text-align:right; font-size: 15px; position:relative;">Powered by <img class="stripe-logo" src="img/stripe_logo.png" height="30px"></h3>
    </div>
</div>

<script>
    class Hover3D 
  {
      constructor(id)
      {
          this.id = id;
          this.xOffset = 2;
          this.yOffset = 2;
          this.attack = 0.1;
          this.release = 0.5;
          this.perspective = 1000;
          this.create();
      }
  
      create()
      {
          document.querySelectorAll(this.id).forEach(element => 
          {
              const rectTransform = element.getBoundingClientRect();
              const perspective = "perspective(" + this.perspective + "px) ";
              element.style.setProperty("transform-style", "preserve-3d");
  
              element.addEventListener("mouseenter", e =>
              {
                  element.style.setProperty("transform " + this.attack + "s");
              })
  
              element.addEventListener("mousemove", e => 
              {
                  const rectTransform = element.getBoundingClientRect();
                  let dy = e.clientY - rectTransform.top;
                  let dx = e.clientX - rectTransform.left;
                  let xRot = this.map(dx, 0, rectTransform.width, -this.xOffset, this.xOffset);
                  let yRot = this.map(dy, 0, rectTransform.height, this.yOffset, -this.yOffset);
                  let propXRot = "rotateX(" + yRot + "deg) ";
                  let propYRot = "rotateY(" + xRot + "deg) scale(103%) translate(0, -5px)";
  
                  element.style.setProperty("transform", perspective + propXRot + propYRot);
              })
  
              element.addEventListener("mouseleave", e => 
              {
                  element.style.setProperty("translate", "transform " + this.release + "s");
                  element.style.setProperty("transform", perspective + "rotateX(0deg) rotateY(0deg)");
              })
          })
      }
      // Processing map() function
      map(value, istart, istop, ostart, ostop) 
      {
          return ostart + (ostop - ostart) * ((value - istart) / (istop - istart));
      }
  }
  
    let myHover3D = new Hover3D(".move"); // Yep! That's it.
  </script>

<script is:inline>
    document.addEventListener("DOMContentLoaded", async function () {

           fetch("json/donators.json")
           .then(response => response.json())
           .then(data => showService(data));

           function showService(data) {
            let donators = document.getElementById("donators");
            for(let i = 0; i < 2; i++){
            for(let i = 0; i < (data.donators.donator.length); i++) {
                donators.innerHTML += "<div class='donator-holder' style='top:20px; transform:translate(0, 0%); height:100px; width:auto; border-radius:16px; margin:15px; position:relative;'><h2 style='top:50%; transform:translate(0, -50%); text-align:center; left:20px; font-family:Gilroy; position:relative;'>" + data.donators.donator[i].name + "</h2></div> </div></div>";
           }
        }
           }
    });
    
    </script>

<style>
    .build-holder{
        left:50%;
        transform: translate(-50%, 20px);
        width:100%;
        max-width:1500px;
        padding-top:30px;
        position:relative;
    }
    .build-square{
        width:95%;
        max-width:350px;
        box-shadow: 0px 5px 10px #00000020;
        border:2px solid rgb(255, 240, 240);
        border-radius: 16px;
        perspective: 500px;
        display:flex;
        flex-wrap: wrap;
        align-items: center;
        justify-content: center;
        gap:50px;
        padding:15px;
        min-height:500px;
        margin-bottom:50px;
        transition: 0.1s;
        z-index: 1;
        position: relative;
    }
    .slider::before{
		background: linear-gradient(to right,  rgba(255,255,255,1) 40%,rgba(255,255,255,0) 100%);
		content: "";
		height: 100%;
		position: absolute;
		width: 30%;
		z-index: 2;
	}

    html.dark .donator-holder { background: #1b1b1b; }
    .donator-holder{
        top:-30px;
        height: 100px;
        background-color:rgb(242,254,250); 
        max-width:1480px;
        border-radius: 16px;
        overflow: hidden;
        position: relative;
    }
    .slider {
    top:-35px;
    height:150px;
	margin: auto;
    border-radius: 8px;
    z-index: 0;
	width: 1500px;
	overflow:hidden;
    position: absolute;
}
	
	.slider::after {
		right: 0;
		top: 0;
		transform: rotateZ(180deg);
	}

	.slider::before {
		left: 0;
		top: 0;
	}
	
	.slide-track {
		animation: scroll 80s linear infinite;
        display: flex;
		width: calc(450px * 20);
        background-color: #ffffff00;
	}
    .build-square:hover{
        box-shadow: 0px 5px 15px #7d7d7d4b;
        border-width:4px;
        transition: 0.1s;
    }
    .bdg{
        top:20px;
        right:10px;
        border-radius: 8px;
        transform: translateZ(20px);
        scale:80%;
        font-size: 25px;
        position: absolute;
    }
    .tier-title{
        bottom:20px;
        font-family:Gilroy;
        position: absolute;
    }
    .tier-1{
        background-image: url(/img/tier_1_bg.png);
        background-size: cover;
        border:2px solid rgb(228, 255, 169);
    }
    .tier-2{
        background-image: url(/img/tier_2_bg.png);
        background-size: cover;
        border:2px solid rgb(148, 248, 255);
    }
    .tier-3{
        background-image: url(/img/tier_3_bg.png);
        background-size: cover;
        border:2px solid rgb(238, 206, 252);
    }
    .tier-4{
        background-image: url(/img/tier_4_bg.png);
        background-size: cover;
        border:2px solid rgb(205, 213, 204);
    }
    .tiers{
        left:50%;
        transform: translate(-50%, 0);
        display:flex;
        align-items: center;
        justify-content: center;
        flex-wrap:wrap;
        gap:20px;
        position:relative;
    }
    .dots{
        top:-80px;
        width:150px;
        height:150px;
        opacity:0.5;
        background-image:radial-gradient(#00000040 2px,transparent 2px);
        background-size: 15px 15px;
        z-index: 0;
        position:relative;
    }
    .build{
        top: 200px;
        position: relative;
    }
    .subtitle{
        text-align:center;
        margin-bottom:20px;
        font-size: 25px;
    }
    .color{
        background: url(/img/header_bg.png) 0 0;
   -webkit-background-clip: text;
   -webkit-text-fill-color: transparent;
   filter:brightness(150%);
    }
    .title{
    text-align:center;
    width:100%;
   margin-bottom:15px;
    font-size: 50px;
    font-family: Gilroy;
    position: relative;
    }

    @media only screen and (max-width: 800px) {

        .build-square{
        width:100%;
        max-width:170px;
        box-shadow: 0px 5px 10px #00000020;
        border-radius: 16px;
        perspective: 500px;
        display:flex;
        flex-wrap: wrap;
        align-items: center;
        justify-content: center;
        gap:0px;
        padding:15px;
        min-height:300px;
        margin-bottom:5px;
        transition: 0.1s;
        z-index: 1;
        position: relative;
    }

    .bg-danger{
        display: none;
    }

    .donate-image{
        width:150px;
    }

    .donator-holder{
        top:20px;
        height: 100px;
        background-color:rgb(242,254,250); 
        max-width:1480px;
        border-radius: 16px;
        overflow: hidden;
        position: relative;
    }
    .slider {
    top:-35px;
    height:150px;
	margin: auto;
    border-radius: 8px;
    z-index: 0;
	width: 1500px;
	overflow:hidden;
    position: absolute;
    }

    h3{
       transform: translate(0, 50px);
    }

    h2:nth-child(1){
        display: none;
    }
	
	.slider::before {
		opacity:0;
	}

    }
</style>